basePath: /
definitions:
  dto.AsnafInfo:
    properties:
      id:
        type: string
      name:
        type: string
    type: object
  dto.AsnafListResponseWrapper:
    properties:
      data:
        description: Contains pagination data
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.AsnafResponse:
    properties:
      createdAt:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      updatedAt:
        type: string
    type: object
  dto.AsnafResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.AsnafResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.AuthResponse:
    properties:
      access_token:
        type: string
      refresh_token:
        type: string
      user:
        $ref: '#/definitions/dto.UserResponse'
    type: object
  dto.AuthResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.AuthResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.AuthTokensResponse:
    properties:
      access_token:
        type: string
      refresh_token:
        type: string
    type: object
  dto.AuthTokensResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.AuthTokensResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.AuthURLResponse:
    properties:
      auth_url:
        type: string
    type: object
  dto.AuthURLResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.AuthURLResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.CreateAsnafRequest:
    properties:
      description:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  dto.CreateMustahiqRequest:
    properties:
      address:
        type: string
      asnafID:
        type: string
      description:
        type: string
      name:
        type: string
      phoneNumber:
        type: string
      status:
        enum:
        - active
        - inactive
        - pending
        type: string
    required:
    - address
    - asnafID
    - name
    - phoneNumber
    - status
    type: object
  dto.CreateMuzakkiRequest:
    properties:
      address:
        type: string
      name:
        type: string
      notes:
        type: string
      phoneNumber:
        type: string
    required:
    - address
    - name
    - phoneNumber
    type: object
  dto.ErrorResponseWrapper:
    properties:
      errors: {}
      message:
        example: Error message
        type: string
      success:
        example: false
        type: boolean
    type: object
  dto.GoogleMobileLoginRequest:
    properties:
      id_token:
        type: string
    required:
    - id_token
    type: object
  dto.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  dto.MustahiqListResponseWrapper:
    properties:
      data:
        description: Contains pagination data
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.MustahiqResponse:
    properties:
      address:
        type: string
      asnaf:
        $ref: '#/definitions/dto.AsnafInfo'
      createdAt:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      phoneNumber:
        type: string
      status:
        type: string
      updatedAt:
        type: string
    type: object
  dto.MustahiqResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.MustahiqResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.MuzakkiListResponseWrapper:
    properties:
      data:
        description: Contains pagination data
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.MuzakkiResponse:
    properties:
      address:
        type: string
      createdAt:
        type: string
      id:
        type: string
      name:
        type: string
      notes:
        type: string
      phoneNumber:
        type: string
      updatedAt:
        type: string
    type: object
  dto.MuzakkiResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.MuzakkiResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.RefreshTokenRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  dto.RegisterRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - name
    - password
    type: object
  dto.ResponseSuccess:
    properties:
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.UpdateAsnafRequest:
    properties:
      description:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  dto.UpdateMustahiqRequest:
    properties:
      address:
        type: string
      asnafID:
        type: string
      description:
        type: string
      name:
        type: string
      phoneNumber:
        type: string
      status:
        enum:
        - active
        - inactive
        - pending
        type: string
    required:
    - address
    - asnafID
    - name
    - phoneNumber
    - status
    type: object
  dto.UpdateMuzakkiRequest:
    properties:
      address:
        type: string
      name:
        type: string
      notes:
        type: string
      phoneNumber:
        type: string
    required:
    - address
    - name
    - phoneNumber
    type: object
  dto.UserResponse:
    properties:
      email:
        type: string
      id:
        type: string
      name:
        type: string
      role:
        type: string
    type: object
  dto.UserResponseWrapper:
    properties:
      data:
        $ref: '#/definitions/dto.UserResponse'
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
host: localhost:8080
info:
  contact: {}
  description: API untuk autentikasi (register, login, refresh token, Google OAuth)
  title: Auth API
  version: "1.0"
paths:
  /api/v1/asnaf:
    get:
      description: Get list of asnaf with pagination and search
      parameters:
      - description: Search by name
        in: query
        name: q
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AsnafListResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get all asnaf
      tags:
      - Asnaf
    post:
      consumes:
      - application/json
      description: Create a new asnaf record
      parameters:
      - description: Create Asnaf Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateAsnafRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.AsnafResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Create new asnaf
      tags:
      - Asnaf
  /api/v1/asnaf/{id}:
    delete:
      description: Delete an asnaf record
      parameters:
      - description: Asnaf ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ResponseSuccess'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Delete asnaf
      tags:
      - Asnaf
    get:
      description: Get a single asnaf record by ID
      parameters:
      - description: Asnaf ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AsnafResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get asnaf by ID
      tags:
      - Asnaf
    put:
      consumes:
      - application/json
      description: Update an existing asnaf record
      parameters:
      - description: Asnaf ID
        in: path
        name: id
        required: true
        type: string
      - description: Update Asnaf Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateAsnafRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AsnafResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Update asnaf
      tags:
      - Asnaf
  /api/v1/auth/google/callback:
    get:
      description: Callback endpoint yang dipanggil oleh Google setelah user login
      parameters:
      - description: Kode authorization dari Google
        in: query
        name: code
        required: true
        type: string
      - description: State untuk CSRF protection
        in: query
        name: state
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      summary: Google OAuth callback
      tags:
      - Auth
  /api/v1/auth/google/login:
    get:
      description: Mengembalikan URL untuk redirect user ke Google OAuth
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthURLResponseWrapper'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      summary: Get Google OAuth URL
      tags:
      - Auth
  /api/v1/auth/google/mobile/login:
    post:
      consumes:
      - application/json
      description: Menerima id_token dari Google (hasil dari SDK Google di mobile),
        memverifikasi ke Google, membuat/mencari user di DB, lalu mengembalikan JWT
        access & refresh token.
      parameters:
      - description: Body berisi id_token dari Google
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.GoogleMobileLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Berhasil login dengan Google (mobile)
          schema:
            $ref: '#/definitions/dto.AuthResponseWrapper'
        "400":
          description: Body request tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: id_token Google tidak valid atau tidak bisa diverifikasi
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      summary: Login dengan Google untuk aplikasi mobile (native)
      tags:
      - Auth
  /api/v1/auth/login:
    post:
      consumes:
      - application/json
      description: Login dengan email dan password
      parameters:
      - description: Login Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      summary: Login user
      tags:
      - Auth
  /api/v1/auth/me:
    get:
      description: Mengambil informasi user berdasarkan access token yang dikirim
        di header
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.UserResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get data user yang sedang login
      tags:
      - Auth
  /api/v1/auth/refresh:
    post:
      consumes:
      - application/json
      description: Mengambil access token baru menggunakan refresh token
      parameters:
      - description: Refresh Token Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.AuthTokensResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      summary: Refresh access token
      tags:
      - Auth
  /api/v1/auth/register:
    post:
      consumes:
      - application/json
      description: Mendaftarkan user baru menggunakan email & password
      parameters:
      - description: Register Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.AuthResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      summary: Register user baru
      tags:
      - Auth
  /api/v1/mustahiq:
    get:
      description: Get list of mustahiq with pagination, search, and status filter
      parameters:
      - description: Search by name or address
        in: query
        name: q
        type: string
      - description: 'Filter by status: active, inactive, pending'
        in: query
        name: status
        type: string
      - description: Filter by asnaf ID
        in: query
        name: asnafID
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.MustahiqListResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get all mustahiq
      tags:
      - Mustahiq
    post:
      consumes:
      - application/json
      description: Create a new mustahiq record
      parameters:
      - description: Create Mustahiq Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateMustahiqRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.MustahiqResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Create new mustahiq
      tags:
      - Mustahiq
  /api/v1/mustahiq/{id}:
    delete:
      description: Delete a mustahiq record
      parameters:
      - description: Mustahiq ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ResponseSuccess'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Delete mustahiq
      tags:
      - Mustahiq
    get:
      description: Get a single mustahiq record by ID
      parameters:
      - description: Mustahiq ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.MustahiqResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get mustahiq by ID
      tags:
      - Mustahiq
    put:
      consumes:
      - application/json
      description: Update an existing mustahiq record
      parameters:
      - description: Mustahiq ID
        in: path
        name: id
        required: true
        type: string
      - description: Update Mustahiq Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateMustahiqRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.MustahiqResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Update mustahiq
      tags:
      - Mustahiq
  /api/v1/muzakki:
    get:
      description: Get list of muzakki with pagination and search
      parameters:
      - description: Search by name or phone number
        in: query
        name: q
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.MuzakkiListResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get all muzakki
      tags:
      - Muzakki
    post:
      consumes:
      - application/json
      description: Create a new muzakki record
      parameters:
      - description: Create Muzakki Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateMuzakkiRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.MuzakkiResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Create new muzakki
      tags:
      - Muzakki
  /api/v1/muzakki/{id}:
    delete:
      description: Delete a muzakki record
      parameters:
      - description: Muzakki ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ResponseSuccess'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Delete muzakki
      tags:
      - Muzakki
    get:
      description: Get a single muzakki record by ID
      parameters:
      - description: Muzakki ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.MuzakkiResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Get muzakki by ID
      tags:
      - Muzakki
    put:
      consumes:
      - application/json
      description: Update an existing muzakki record
      parameters:
      - description: Muzakki ID
        in: path
        name: id
        required: true
        type: string
      - description: Update Muzakki Request Body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateMuzakkiRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.MuzakkiResponseWrapper'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponseWrapper'
      security:
      - BearerAuth: []
      summary: Update muzakki
      tags:
      - Muzakki
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
